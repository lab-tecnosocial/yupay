---
import { getCollection } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import PostCard from '../components/PostCard.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

const posts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);
---

<!doctype html>
<html lang="es">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			/* ---- Hero ---- */
			.hero {
				background: linear-gradient(135deg, var(--yupay-cream) 0%, #fff3cc 50%, #ffe680 100%);
				position: relative;
				overflow: hidden;
				padding: 5em 1.5em 4em;
				text-align: center;
			}
			.hero::before {
				content: '';
				position: absolute;
				inset: 0;
				background-image: radial-gradient(circle, rgba(255,184,0,0.12) 1px, transparent 1px);
				background-size: 28px 28px;
				pointer-events: none;
			}
			.hero-inner {
				position: relative;
				max-width: 740px;
				margin: 0 auto;
			}
			.hero-badge {
				display: inline-block;
				background: var(--yupay-yellow);
				color: var(--yupay-black);
				font-size: 0.8em;
				font-weight: 700;
				padding: 0.3em 1em;
				border-radius: 9999px;
				margin-bottom: 1.25em;
				letter-spacing: 0.05em;
				text-transform: uppercase;
			}
			.hero h1 {
				font-size: clamp(2em, 5vw, 3.2em);
				color: var(--yupay-black);
				margin: 0 0 0.6em;
				line-height: 1.15;
			}
			.hero h1 span {
				color: var(--yupay-amber);
			}
			.hero-sub {
				font-size: 1.15em;
				color: var(--yupay-charcoal);
				max-width: 560px;
				margin: 0 auto 2em;
				line-height: 1.6;
			}
			.hero-actions {
				display: flex;
				gap: 1em;
				justify-content: center;
				flex-wrap: wrap;
			}
			.btn-primary {
				background: var(--yupay-yellow);
				color: var(--yupay-black);
				font-weight: 700;
				padding: 0.75em 2em;
				border-radius: 8px;
				text-decoration: none;
				font-size: 1em;
				transition: background-color 0.2s ease;
			}
			.btn-primary:hover {
				background: var(--yupay-yellow-dark);
				color: var(--yupay-black);
			}
			.btn-secondary {
				background: transparent;
				color: var(--yupay-black);
				font-weight: 700;
				padding: 0.75em 2em;
				border-radius: 8px;
				text-decoration: none;
				font-size: 1em;
				border: 2px solid var(--yupay-black);
				transition: background-color 0.2s ease;
			}
			.btn-secondary:hover {
				background: rgba(0,0,0,0.05);
				color: var(--yupay-black);
			}

			/* ---- Features ---- */
			.features {
				background: white;
				padding: 4em 1.5em;
			}
			.section-header {
				text-align: center;
				margin-bottom: 2.5em;
			}
			.section-header h2 {
				font-size: 1.9em;
				color: var(--yupay-black);
				margin: 0 0 0.4em;
			}
			.section-header p {
				color: var(--yupay-gray);
				font-size: 1em;
				margin: 0;
				max-width: 480px;
				margin-inline: auto;
			}
			.features-grid {
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 1.5em;
				max-width: 960px;
				margin: 0 auto;
			}
			.feature-card {
				background: var(--yupay-cream);
				border-radius: 12px;
				padding: 2em 1.5em;
				text-align: center;
			}
			.feature-icon {
				font-size: 2.5em;
				margin-bottom: 0.5em;
			}
			.feature-card h3 {
				font-size: 1.1em;
				color: var(--yupay-black);
				margin: 0 0 0.5em;
			}
			.feature-card p {
				font-size: 0.9em;
				color: var(--yupay-gray);
				margin: 0;
				line-height: 1.5;
			}

			/* ---- Latest posts ---- */
			.latest-posts {
				padding: 4em 1.5em;
				background: var(--yupay-cream);
			}
			.posts-grid {
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 1.5em;
				max-width: 1100px;
				margin: 0 auto;
			}
			.all-posts-link {
				text-align: center;
				margin-top: 2.5em;
			}
			.all-posts-link a {
				font-weight: 700;
				color: var(--yupay-amber);
				text-decoration: none;
				font-size: 1em;
			}
			.all-posts-link a:hover {
				color: var(--yupay-yellow-dark);
			}

			/* ---- Coming soon ---- */
			.coming-soon {
				background: var(--yupay-black);
				padding: 4em 1.5em;
				color: white;
			}
			.coming-soon .section-header h2 {
				color: white;
			}
			.coming-soon .section-header p {
				color: #9ca3af;
			}
			.coming-grid {
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 1.5em;
				max-width: 900px;
				margin: 0 auto;
			}
			.coming-card {
				background: #2d2d2d;
				border-radius: 12px;
				padding: 2em 1.5em;
				text-align: center;
			}
			.coming-badge {
				display: inline-block;
				background: #3d3d3d;
				color: var(--yupay-honey);
				font-size: 0.72em;
				font-weight: 700;
				padding: 0.25em 0.75em;
				border-radius: 9999px;
				margin-bottom: 0.75em;
				letter-spacing: 0.04em;
			}
			.coming-icon {
				font-size: 2.2em;
				margin-bottom: 0.5em;
			}
			.coming-card h3 {
				color: white;
				font-size: 1em;
				margin: 0 0 0.4em;
			}
			.coming-card p {
				color: #9ca3af;
				font-size: 0.85em;
				margin: 0;
				line-height: 1.5;
			}

			/* ---- Newsletter ---- */
			.newsletter {
				background: linear-gradient(135deg, var(--yupay-yellow) 0%, var(--yupay-honey) 100%);
				padding: 4em 1.5em;
				text-align: center;
			}
			.newsletter h2 {
				color: var(--yupay-black);
				font-size: 1.8em;
				margin: 0 0 0.5em;
			}
			.newsletter p {
				color: rgba(26,26,26,0.75);
				margin: 0 0 1.75em;
				font-size: 1em;
			}
			.newsletter-form {
				display: flex;
				gap: 0.75em;
				max-width: 460px;
				margin: 0 auto;
				flex-wrap: wrap;
				justify-content: center;
			}
			.newsletter-form input[type="email"] {
				flex: 1;
				min-width: 220px;
				padding: 0.7em 1em;
				border-radius: 8px;
				border: 2px solid transparent;
				font-size: 1em;
				font-family: inherit;
				outline: none;
			}
			.newsletter-form input[type="email"]:focus {
				border-color: var(--yupay-amber);
			}
			.newsletter-form button {
				background: var(--yupay-black);
				color: white;
				font-weight: 700;
				padding: 0.7em 1.5em;
				border-radius: 8px;
				border: none;
				font-size: 1em;
				font-family: inherit;
				cursor: pointer;
				transition: background-color 0.2s ease;
			}
			.newsletter-form button:hover {
				background: var(--yupay-charcoal);
			}

			@media (max-width: 720px) {
				.features-grid,
				.posts-grid,
				.coming-grid {
					grid-template-columns: 1fr;
				}
				.hero { padding: 3em 1.25em 2.5em; }
			}
		</style>
	</head>
	<body>
		<Header />

		<!-- Hero -->
		<section class="hero">
			<div class="hero-inner">
				<span class="hero-badge">EducaciÃ³n Financiera</span>
				<h1>Toma el control de tu <span>dinero en Bolivia</span></h1>
				<p class="hero-sub">
					Aprende a ahorrar, invertir y planificar tu futuro con contenido claro,
					prÃ¡ctico y adaptado a la realidad boliviana.
				</p>
				<div class="hero-actions">
					<a href="/blog" class="btn-primary">Explorar artÃ­culos</a>
					<a href="/about" class="btn-secondary">Conoce Yupay</a>
				</div>
			</div>
		</section>

		<!-- Â¿Por quÃ© Yupay? -->
		<section class="features">
			<div class="section-header">
				<h2>Â¿Por quÃ© Yupay?</h2>
				<p>Contenido pensado desde y para Bolivia, sin jerga financiera innecesaria.</p>
			</div>
			<div class="features-grid">
				<div class="feature-card">
					<div class="feature-icon">ðŸ‡§ðŸ‡´</div>
					<h3>Contexto boliviano</h3>
					<p>Hablamos de UFV, AFP, DPF y la Bolsa Boliviana de Valores, no de mercados extranjeros.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">ðŸ“–</div>
					<h3>Lenguaje claro</h3>
					<p>Sin tecnicismos innecesarios. Conceptos complejos explicados de forma simple y directa.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">ðŸŽ¯</div>
					<h3>AcciÃ³n prÃ¡ctica</h3>
					<p>Cada artÃ­culo termina con pasos concretos que puedes implementar hoy mismo.</p>
				</div>
			</div>
		</section>

		<!-- Ãšltimos artÃ­culos -->
		<section class="latest-posts">
			<div class="section-header">
				<h2>Ãšltimos artÃ­culos</h2>
				<p>Aprende algo nuevo sobre finanzas personales esta semana.</p>
			</div>
			<div class="posts-grid">
				{posts.map((post) => <PostCard post={post} />)}
			</div>
			<div class="all-posts-link">
				<a href="/blog">Ver todos los artÃ­culos â†’</a>
			</div>
		</section>

		<!-- PrÃ³ximamente -->
		<section class="coming-soon">
			<div class="section-header">
				<h2>PrÃ³ximamente</h2>
				<p>Estamos construyendo herramientas para ayudarte aÃºn mÃ¡s.</p>
			</div>
			<div class="coming-grid">
				<div class="coming-card">
					<div class="coming-badge">En desarrollo</div>
					<div class="coming-icon">ðŸ“±</div>
					<h3>App Yupay</h3>
					<p>Lleva tu educaciÃ³n financiera en el bolsillo. Control de gastos y metas de ahorro.</p>
				</div>
				<div class="coming-card">
					<div class="coming-badge">En desarrollo</div>
					<div class="coming-icon">ðŸ§®</div>
					<h3>Calculadoras</h3>
					<p>Simula el crecimiento de un DPF, calcula tu jubilaciÃ³n o proyecta tus ahorros.</p>
				</div>
				<div class="coming-card">
					<div class="coming-badge">En desarrollo</div>
					<div class="coming-icon">ðŸ“Š</div>
					<h3>Planificador</h3>
					<p>Crea un presupuesto mensual en minutos con categorÃ­as adaptadas a Bolivia.</p>
				</div>
			</div>
		</section>

		<!-- Newsletter -->
		<section class="newsletter">
			<h2>Recibe contenido nuevo cada semana</h2>
			<p>Sin spam. Solo artÃ­culos prÃ¡cticos sobre finanzas personales en Bolivia.</p>
			<form class="newsletter-form" onsubmit="return false;">
				<input type="email" placeholder="tu@correo.com" aria-label="Tu correo electrÃ³nico" />
				<button type="submit">Suscribirme</button>
			</form>
		</section>

		<Footer />
	</body>
</html>
